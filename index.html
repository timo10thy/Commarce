<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>L@G@T^s Cart</title>
</head>

<body>
    <nav class="fixed top-0 left-0 w-full bg-lime-200 flex flex-wrap items-center justify-between p-4 z-50 shadow">
        <div class="text-lg font-bold">L@G@T^s</div>
        <div class="text-sm">categories</div>
        <div class="flex gap-2 mt-2 sm:mt-0">
            <input type="text" id="search" placeholder="search for product" class="p-1 border rounded w-32 sm:w-auto" />
            <button class="border border-black rounded px-4">search</button>
        </div>
        <div class="flex gap-3 mt-2 sm:mt-0">
            <button class="border border-black px-3 py-1 rounded">Sign in</button>
            <button class="border border-black px-3 py-1 rounded">Create Account</button>
        </div>
        <div id="cart" class="flex items-center gap-2 cursor-pointer relative mt-2 sm:mt-0">
            <img src="images/cart.png" alt="Cart" class="h-8" />
            <span id="cart-count"
                class="absolute top-0 right-0 bg-red-500 text-white rounded-full text-xs px-2">0</span>
        </div>
    </nav>

    <main class="pt-28 m-5">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/kids.jpg" alt="Kids T-shirt" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Kids T-shirt</h2>
                    <p class="text-gray-600 mb-2">25</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="1" data-title="Kids T-shirt" data-price="25" data-image="images/kids.jpg">Add to
                        Cart</button>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/adultclothes.jpg" alt="Adult Clothes" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Adult Clothes</h2>
                    <p class="text-gray-600 mb-2">40</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="2" data-title="Adult Clothes" data-price="40" data-image="images/adultclothes.jpg">Add
                        to Cart</button>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/appliance.jpg" alt="Appliance" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Appliance</h2>
                    <p class="text-gray-600 mb-2">100</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="3" data-title="Appliance" data-price="100" data-image="images/appliance.jpg">Add to
                        Cart</button>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/phone.jpg" alt="Phone" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Phone</h2>
                    <p class="text-gray-600 mb-2">150</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="4" data-title="Phone" data-price="150" data-image="images/phone.jpg">Add to
                        Cart</button>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/laptop.jpg" alt="Laptop" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Laptop</h2>
                    <p class="text-gray-600 mb-2">300</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="5" data-title="Laptop" data-price="300" data-image="images/laptop.jpg">Add to
                        Cart</button>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col">
                <img src="images/shoe.avif" alt="Shoes" class="w-full h-48 object-cover">
                <div class="p-4 flex flex-col items-center text-center">
                    <h2 class="text-lg font-semibold mb-2">Shoes</h2>
                    <p class="text-gray-600 mb-2">70</p>
                    <button class="mt-auto bg-lime-500 hover:bg-lime-600 text-white font-semibold py-2 px-4 rounded"
                        data-id="6" data-title="Shoes" data-price="70" data-image="images/shoe.avif">Add to
                        Cart</button>
                </div>
            </div>
        </div>
        <hr class="border-black">
        <a href="https://github.com/timo10thy" target="_blank" rel="noopener noreferrer"
            class="mt-6 inline-flex items-center justify-center text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0C5.37 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.387.6.113.82-.26.82-.577 
0-.285-.01-1.04-.015-2.04-3.338.727-4.042-1.612-4.042-1.612-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.729.083-.729 
1.205.085 1.84 1.236 1.84 1.236 1.07 1.834 2.807 1.304 3.492.997.108-.776.418-1.305.76-1.605-2.665-.305-5.466-1.334-5.466-5.933 
0-1.31.467-2.38 1.235-3.22-.123-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.3 1.23a11.52 11.52 0 0 1 3.003-.404 
11.52 11.52 0 0 1 3.003.404c2.29-1.552 3.297-1.23 3.297-1.23.653 1.653.241 2.873.118 3.176.77.84 1.233 
1.91 1.233 3.22 0 4.61-2.804 5.625-5.475 5.922.43.372.813 1.102.813 2.222 0 1.606-.014 2.898-.014 
3.293 0 .32.217.694.825.576C20.565 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z" />
            </svg>
            Visit my GitHub
        </a>
    </main>

    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-end z-50">
        <div class="bg-white w-full sm:w-96 p-5 overflow-y-auto relative h-full">
            <button id="close-cart" class="absolute top-2 right-2 text-xl font-bold">&times;</button>
            <h2 class="text-xl font-bold mb-4">Your Cart</h2>
            <div id="cart-items" class="space-y-4"></div>
            <div id="cart-total" class="mt-4 text-right font-semibold text-lg">Total: 0</div>
            <button id="checkout-btn"
                class="mt-4 w-full bg-lime-500 hover:bg-lime-600 text-white font-bold py-2 rounded opacity-50" disabled>
                Checkout
            </button>
        </div>

    </div>

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = document.getElementById('cart-count');
        const addButtons = document.querySelectorAll('button[data-id]');
        const cartModal = document.getElementById('cart-modal');
        const cartItemsContainer = document.getElementById('cart-items');
        const closeCartBtn = document.getElementById('close-cart');
        const cartIcon = document.getElementById('cart');

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        function renderCartItems() {
            cartItemsContainer.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex items-center gap-4 border p-2 rounded justify-between';

                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                itemDiv.innerHTML = `
          <img src="${item.image}" alt="${item.title}" class="w-16 h-16 object-cover rounded" />
          <div class="flex-1">
            <h3 class="font-semibold">${item.title}</h3>
            <p class="text-sm text-gray-600">${item.price} × ${item.quantity} = ${itemTotal.toFixed(2)}</p>
          </div>
          <div class="flex gap-2 items-center">
            <button class="text-lg font-bold px-2 bg-gray-200 rounded" onclick="decreaseQty('${item.id}')">−</button>
            <button class="text-lg font-bold px-2 bg-gray-200 rounded" onclick="increaseQty('${item.id}')">+</button>
          </div>
        `;
                cartItemsContainer.appendChild(itemDiv);
            });

            document.getElementById('cart-total').textContent = `Total: ${total.toFixed(2)}`;
            const checkoutBtn = document.getElementById('checkout-btn');
            checkoutBtn.disabled = cart.length === 0;
            checkoutBtn.classList.toggle('opacity-50', cart.length === 0);
        }

        function increaseQty(id) {
            const product = cart.find(item => item.id === id);
            if (product) {
                product.quantity += 1;
                updateCartCount();
                renderCartItems();
                saveCart();
            }
        }

        function decreaseQty(id) {
            const product = cart.find(item => item.id === id);
            if (product) {
                product.quantity -= 1;
                if (product.quantity <= 0) {
                    cart = cart.filter(item => item.id !== id);
                }
                updateCartCount();
                renderCartItems();
                saveCart();
            }
        }

        addButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const btn = e.target;
                const id = btn.dataset.id;
                const title = btn.dataset.title;
                const price = parseFloat(btn.dataset.price);
                const image = btn.dataset.image;

                const existingProduct = cart.find(item => item.id === id);
                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push({ id, title, price, image, quantity: 1 });
                }

                updateCartCount();
                renderCartItems();
                saveCart();
            });
        });

        cartIcon.addEventListener('click', () => {
            renderCartItems();
            cartModal.classList.remove('hidden');
            cartModal.classList.add('flex');
        });

        closeCartBtn.addEventListener('click', () => {
            cartModal.classList.add('hidden');
            cartModal.classList.remove('flex');
        });

        document.getElementById('checkout-btn').addEventListener('click', () => {
            if (cart.length === 0) return;
            const confirmed = confirm("Proceed to checkout?");
            if (confirmed) {
                alert("Checkout successful!");
                cart = [];
                updateCartCount();
                renderCartItems();
                saveCart();
                cartModal.classList.add('hidden');
                cartModal.classList.remove('flex');
            }
        });

        updateCartCount();
    </script>
</body>

</html>